{"mappings":"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","sources":["src/index.js","src/utils/index.js","src/utils/validation.js","src/constants/index.js"],"sourcesContent":["import { _generateStyleMap } from './utils';\nimport { _validate } from './utils/validation';\n\nconst main = (themeConfig, themeKey) => {\n  /**\n   * Generate theme variables and assign values from the given theme config\n   *\n   * @param  {Object} themeConfig  An object containing theme description.\n   * @param  {String} themeKey   A key of an active theme.\n   */\n  _validate(themeConfig, themeKey);\n\n  const map = _generateStyleMap(themeConfig, themeKey);\n  const root = document.documentElement;\n\n  for (let key in map) {\n    if (map.hasOwnProperty(key)) {\n      root.style.setProperty(key, map[key])\n    }\n  }\n};\n\nexport default main;","export const _generateStyleMap = (themeObject, selectedTheme) => {\n  /**\n   * Creates an object where the key matches the name of a CSS variable,\n   * and the corresponding value depends on the passed key of the active theme\n   *\n   * @param  {Object} themeObject  An object containing theme description.\n   * @param  {String} selectedTheme   A key of an active theme.\n   */\n\tlet map = {};\n\n  const iter = (obj,acc) => {\n\t\tconst keys = Object.keys(obj);\n\n    keys.forEach((key) => {\n      if (typeof obj[key] === 'object') {\n      \titer(obj[key], `${acc ? acc+'-' : '--'}${key}`);\n      } else {\n      \tif (key === selectedTheme) {\n        \tmap[acc] = obj[key]\n        }\n      }\n    })\n  };\n\n  iter(themeObject);\n\n  return map\n};","import { ALLOWED_VALUE_TYPE_LIST, ERRORS, THEME_CONFIG_TYPE, THEME_KEY_TYPE } from '../constants';\n\nexport const _validate = (themeConfig, key) => {\n  _validateKey(key);\n  _validateThemeConfig(themeConfig);\n};\n\nexport const _validateKey = (key) => {\n  if (typeof key !== THEME_KEY_TYPE) {\n    throw new Error(ERRORS.WRONG_KEY_TYPE.replace('$unexpected', typeof key))\n  }\n}\n\nexport const  _validateThemeConfig = (themeConfig) => {\n  if (typeof themeConfig === undefined) {\n    throw new Error(ERRORS.NO_THEME_CONFIG);\n  }\n\n  if (typeof themeConfig !== THEME_CONFIG_TYPE) {\n    throw new Error(ERRORS.WRONG_THEME_CONFIG);\n  }\n\n  _validateObjectValues(themeConfig);\n};\n\nexport const _validateValue = (key, value) => {\n  const replacer = {\n    '$name': key,\n    '$wrongType': typeof value\n  };\n\n  if (ALLOWED_VALUE_TYPE_LIST.indexOf(typeof value) === -1) {\n    throw new Error(\n      ERRORS.NOT_ALLOWED_TYPE.replace(\n        /\\$name|\\$wrongType/gi,\n        (placeholder) => replacer[placeholder])\n    )\n  }\n};\n\nexport const _validateObjectValues = (themeObject) => {\n  const iter = (obj) => {\n    const keys = Object.keys(obj);\n\n    keys.forEach((key) => {\n      _validateValue(key, obj[key]);\n    })\n  };\n\n  iter(themeObject);\n};","export const THEME_KEY_TYPE = 'string';\nexport const THEME_CONFIG_TYPE = 'object';\nexport const ALLOWED_VALUE_TYPE_LIST = [\n  'string',\n  'object'\n];\n\nexport const ERRORS = {\n  NOT_ALLOWED_TYPE: 'You have provided an unexpected value type in your theme config. ' +\n    'The value type for \\'$name\\' key is \\'$wrongType\\' which is not allowed. Only ' +\n    `${ALLOWED_VALUE_TYPE_LIST.map(string => string.replace(/^|$/gi, '\\'')).join(' | ')} ` +\n    'value types are allowed for the theme config.',\n  NO_THEME_CONFIG: 'No theme config provided. Theme config is required.',\n  WRONG_THEME_CONFIG: `Theme config has unexpected format. Only '${THEME_CONFIG_TYPE}' is allowed.`,\n  WRONG_KEY_TYPE: 'Invalid value for the theme key. Expected \\'string\\' but got \\'$unexpected\\'',\n}"],"names":[],"version":3,"file":"main.js.map","sourceRoot":"../"}